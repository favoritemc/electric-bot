<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>电费节省计算器</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        fieldset {
            margin-bottom: 20px;
            border: 1px solid #ddd;
            padding: 15px;
        }
        legend {
            font-weight: bold;
        }
        label {
            display: inline-block;
            width: 200px;
            margin-bottom: 10px;
        }
        input[type="number"], input[type="file"] {
            width: 200px;
            padding: 5px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <h1>电费节省计算器</h1>

    <form id="manualForm" action="/calculate" method="POST">
        <fieldset>
            <legend>手动输入电费信息</legend>

            <label for="base_price_old">旧基准电价:</label>
            <input type="number" id="base_price_old" name="base_price_old" step="0.001" required><br>

            <label for="transmission_price">输配电价:</label>
            <input type="number" id="transmission_price" name="transmission_price" step="0.001" required><br>

            <label for="line_loss_price">上网线损电价:</label>
            <input type="number" id="line_loss_price" name="line_loss_price" step="0.001" required><br>

            <label for="system_operation_price">系统运行费:</label>
            <input type="number" id="system_operation_price" name="system_operation_price" step="0.001" required><br>

            <label for="flat_usage">平段用电量:</label>
            <input type="number" id="flat_usage" name="flat_usage" step="0.001" required><br>

            <label for="valley_usage">谷段用电量:</label>
            <input type="number" id="valley_usage" name="valley_usage" step="0.001" required><br>

            <label for="peak_usage">峰段用电量:</label>
            <input type="number" id="peak_usage" name="peak_usage" step="0.001" required><br>

            <label for="sharp_peak_usage">尖峰用电量:</label>
            <input type="number" id="sharp_peak_usage" name="sharp_peak_usage" step="0.001" required><br>

            <label for="transformer_capacity">变压器容量:</label>
            <input type="number" id="transformer_capacity" name="transformer_capacity" step="0.001" required><br>

            <label for="capacity_price_per_unit">容量电费单价:</label>
            <input type="number" id="capacity_price_per_unit" name="capacity_price_per_unit" step="0.001" required><br>

            <label for="power_factor_adjustment_fee">功率因数调整电费:</label>
            <input type="number" id="power_factor_adjustment_fee" name="power_factor_adjustment_fee" step="0.001" required><br>

            <label for="new_reference_price">新参考电价:</label>
            <input type="number" id="new_reference_price" name="new_reference_price" step="0.001" required><br>

            <label for="fund_additional_fee">基金及附加费单价:</label>
            <input type="number" id="fund_additional_fee" name="fund_additional_fee" step="0.001" required><br>

            <button type="submit">计算</button>
        </fieldset>
    </form>

    <form id="uploadForm" action="/upload" method="POST" enctype="multipart/form-data">
        <fieldset>
            <legend>上传电费单</legend>
            <input type="file" name="file" accept="image/*" required><br><br>
            <button type="submit">上传并计算</button>
        </fieldset>
    </form>

</body>
</html>